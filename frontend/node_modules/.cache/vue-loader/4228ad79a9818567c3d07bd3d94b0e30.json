{"remainingRequest":"/Users/luis/Documents/Code/coffee-app/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/luis/Documents/Code/coffee-app/frontend/src/components/GoogleMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/luis/Documents/Code/coffee-app/frontend/src/components/GoogleMap.vue","mtime":1586069681549},{"path":"/Users/luis/Documents/Code/coffee-app/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luis/Documents/Code/coffee-app/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luis/Documents/Code/coffee-app/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/luis/Documents/Code/coffee-app/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luis/Documents/Code/coffee-app/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkdvb2dsZU1hcCIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGluZm9Qb3NpdGlvbjogbnVsbCwKICAgICAgaW5mb0NvbnRlbnQ6IG51bGwsCiAgICAgIGluZm9PcGVuZWQ6IGZhbHNlLAogICAgICBpbmZvQ3VycmVudEtleTogbnVsbCwKICAgICAgaW5mb09wdGlvbnM6IHsKICAgICAgICBwaXhlbE9mZnNldDogewogICAgICAgICAgd2lkdGg6IDAsCiAgICAgICAgICBoZWlnaHQ6IC0zNQogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBnZXRQb3NpdGlvbjogbWFya2VyID0+IHsKICAgICAgY29uc29sZS5sb2cobWFya2VyKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBsYXQ6IHBhcnNlRmxvYXQobWFya2VyLmNvb3JkaW5hdGVzLmxhdGl0dWRlKSwKICAgICAgICBsbmc6IHBhcnNlRmxvYXQobWFya2VyLmNvb3JkaW5hdGVzLmxvbmdpdHVkZSkKICAgICAgfTsKICAgIH0sCiAgICB0b2dnbGVJbmZvOiBmdW5jdGlvbihtYXJrZXIsIGtleSkgewogICAgICB0aGlzLmluZm9Qb3NpdGlvbiA9IHRoaXMuZ2V0UG9zaXRpb24obWFya2VyKTsKICAgICAgdGhpcy5pbmZvQ29udGVudCA9IG1hcmtlci5uYW1lOwogICAgICBpZiAodGhpcy5pbmZvQ3VycmVudEtleSA9PSBrZXkpIHsKICAgICAgICB0aGlzLmluZm9PcGVuZWQgPSAhdGhpcy5pbmZvT3BlbmVkOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaW5mb09wZW5lZCA9IHRydWU7CiAgICAgICAgdGhpcy5pbmZvQ3VycmVudEtleSA9IGtleTsKICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKFsiY2VudGVyIiwgImNvZmZlZVN0b3JlcyJdKQogIH0KfTsK"},{"version":3,"sources":["GoogleMap.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GoogleMap.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <gmap-map :center=\"center\" :zoom=\"12\" style=\"width:100%;  height: 100vh;\">\n      <gmap-info-window\n        :options=\"infoOptions\"\n        :position=\"infoPosition\"\n        :opened=\"infoOpened\"\n        @closeclick=\"infoOpened=false\"\n      >{{infoContent}}</gmap-info-window>\n      <gmap-marker\n        :key=\"index\"\n        v-for=\"(m, index) in coffeeStores\"\n        :position=\"getPosition(m)\"\n        :clickable=\"true\"\n        @click=\"toggleInfo(m, index)\"\n      ></gmap-marker>\n    </gmap-map>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\n\nexport default {\n  name: \"GoogleMap\",\n  data() {\n    return {\n      infoPosition: null,\n      infoContent: null,\n      infoOpened: false,\n      infoCurrentKey: null,\n      infoOptions: {\n        pixelOffset: {\n          width: 0,\n          height: -35\n        }\n      }\n    };\n  },\n\n  methods: {\n    getPosition: marker => {\n      console.log(marker);\n      return {\n        lat: parseFloat(marker.coordinates.latitude),\n        lng: parseFloat(marker.coordinates.longitude)\n      };\n    },\n    toggleInfo: function(marker, key) {\n      this.infoPosition = this.getPosition(marker);\n      this.infoContent = marker.name;\n      if (this.infoCurrentKey == key) {\n        this.infoOpened = !this.infoOpened;\n      } else {\n        this.infoOpened = true;\n        this.infoCurrentKey = key;\n      }\n    }\n  },\n  computed: {\n    ...mapState([\"center\", \"coffeeStores\"])\n  }\n};\n</script>"]}]}